# jleague-result-prediction

## やりたいこと

* J1リーグの勝敗を予測するモデルを構築する
* 勝敗予測に基づいて､利益の多いminitoto予想をする

## これからやりたいこと

* totoの賭け方を論理的に割り出す(法則的なものを作る)

## これまでやってきたこと

* 2020年から2018年までの試合結果をFootball LAB(https://www.football-lab.jp/)から収集
* ポワソン分布を用いた得点予測
* SVMを用いた勝敗予測(【誤】試合が終了しなければ判明しないはずのスタッツを入力データに使用してしまい､思いの他高い精度になってしまった)
* 各クラブの年月ごとのイロレーティング収集 (https://footballdatabase.com/ranking/japan より)
* 過去3年間の一試合あたりの平均勝ち点と得失点数で予測
* 試合時のイロレーティングを用いて学習
* イロレーティング手法を用いて､レーティングを自作して集計した→単純に過去の結果に基づいた勝敗予測は50%程度の正答率が限界か??→勝､負､分をそれぞれ確率で出してあげて､それに基づいてtoto予想をするのが面白そう!!
* OneHotEncodingしたclub名を食べさせた→あまり効果なし
* 現状のモデルの較正値を出す(2021/09/22) → 1.0±0.2ぐらい
* 過去5試合の平均値を学習に使って予測した→45%ほどの的中率が得られた(向上なし)+特徴量重要度ではパス数､ボール支配率､30m進入回数あたりで高い数値が得られた
* 得点差(HomeGF-AwayGF)を予測する回帰問題としてチャレンジ→閾値を0点とし正ならHome勝利,負ならAwayの勝利とした時引き分けは一切的中させられないが､50%ほどの的中率が得られた
* minitotoで予測勝率差をもとに閾値を人力でチューニングした際の還元率が90%程を得られた→少額で当て行ったほうがハズレは増えるが期待値が良い
* ポアソン分布での得点予測→勝率換算→勝敗予測+toto予測


## 勝敗予測手法

* 機械学習で分類問題として勝ち､負け､分けを予測する
    * 勝敗的中率 : 46%程
    * toto回収率 : 60%ぐらい
* 機械学習でHomeGF-AwayGFを回帰問題として予測し,予測した点差が正なら勝ち,負なら負け､0なら分けと予測する
    * 勝敗的中率 : 47%ぐらい
* EloRatingの大小で勝ち､負け､分けを判断する
    * 勝敗的中率 : 47%ぐらい
    * totoの回収率は61%ぐらい
* ポワソン分布で得点予想から勝率換算し､勝敗予測
    * 勝敗的中率 : 45% (13-20年)
    * toto回収率 : 80%
    